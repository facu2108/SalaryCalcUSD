<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>La Evolución de tu Salario en Dólares</title>
  <!-- Tell the browser to be responsive to screen width -->
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
  <!-- Bootstrap 3.3.7 -->
  <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css">
  <!-- Ionicons -->
  <link rel="stylesheet" href="bower_components/Ionicons/css/ionicons.min.css">
  <!-- Theme style -->
  <link rel="stylesheet" href="dist/css/AdminLTE.min.css">

   <!-- bootstrap datepicker -->
  <link rel="stylesheet" href="bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css">

  <!-- AdminLTE Skins. Choose a skin from the css/skins
       folder instead of downloading all of them to reduce the load. -->
  <link rel="stylesheet" href="dist/css/skins/_all-skins.min.css">

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

  <!-- Google Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">

	<!-- for the charts to work -->
  	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.13.0/moment.min.js"></script>
	<script src="Chart.min.js"></script>
	<script src="utils.js"></script>
	<script src="data/dates_pesos.js"></script>
	<script src="data/values_pesos.js"></script>
	<style>
		canvas {
			-moz-user-select: none;
			-webkit-user-select: none;
			-ms-user-select: none;
		}
	</style>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-109828568-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-109828568-1');
  </script>


</head>
<body class="hold-transition skin-blue sidebar-mini">
<!-- Site wrapper -->
<div class="wrapper">

  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper" style="margin-left:0px;min-height:1500px;">
    <!-- Content Header (Page header) -->

    <!-- Main content -->
    <section class="content" style="min-height:1500px;">

      <!-- Default box -->
      <div class="box">
        <div class="box-header with-border">
          <h1 class="box-title">La Evolución de tu Salario en Dólares</h1>

          <div class="box-tools pull-right">
            <button type="button" class="btn btn-box-tool" data-widget="collapse" data-toggle="tooltip"
                    title="Collapse">
              <i class="fa fa-minus"></i></button>
            <button type="button" class="btn btn-box-tool" data-widget="remove" data-toggle="tooltip" title="Remove">
              <i class="fa fa-times"></i></button>
          </div>
        </div>
        <div class="box-body">



	<div class="row">
           <div class="col-md-4">
          <div class="box box-primary">


		<div class="box-body">
			<div class="row">
				<div class="col-lg-6">
					<label>Fechas (<span class="text-red">MES</span>/Día/Año):<span class="visible-xs">y Salarios:</span></label>
					<div class="input-group date col-md-12">
						<div class="input-group-addon">
							<i class="fa fa-calendar"></i>
						</div>
					<input type="text" class="form-control pull-right datepicker-facu" id="da1">
					</div>
				</div>
                <div class="col-lg-6">
					<label class="hidden-xs">Salarios:</label>
					<div class="input-group">
						<span class="input-group-addon"><i class="fa fa-dollar"></i></span>
						<input type="text" class="form-control" id="va1">
					</div>
                </div>
              </div>


			  <div class="row">
				<div class="col-lg-6">
					<div class="input-group date col-md-12">
						<div class="input-group-addon">
							<i class="fa fa-calendar"></i>
						</div>
					<input type="text" class="form-control pull-right datepicker-facu" id="da2">
					</div>
				</div>
                <div class="col-lg-6">
					<div class="input-group">
						<span class="input-group-addon"><i class="fa fa-dollar"></i></span>
						<input type="text" class="form-control" id="va2">
					</div>
                </div>
              </div>

			  <div class="row">
				<div class="col-lg-6">
					<div class="input-group date col-md-12">
						<div class="input-group-addon">
							<i class="fa fa-calendar"></i>
						</div>
					<input type="text" class="form-control pull-right datepicker-facu" id="da3">
					</div>
				</div>
                <div class="col-lg-6">
					<div class="input-group">
						<span class="input-group-addon"><i class="fa fa-dollar"></i></span>
						<input type="text" class="form-control" id="va3">
					</div>
                </div>
              </div>


			  <div class="row hidden-xs">
				<div class="col-lg-6">
					<div class="input-group date col-md-12">
						<div class="input-group-addon">
							<i class="fa fa-calendar"></i>
						</div>
					<input type="text" class="form-control pull-right datepicker-facu" id="da4">
					</div>
				</div>
                <div class="col-lg-6">
					<div class="input-group">
						<span class="input-group-addon"><i class="fa fa-dollar"></i></span>
						<input type="text" class="form-control" id="va4">
					</div>
                </div>
              </div>



			  <div class="row hidden-xs">
				<div class="col-lg-6">
					<div class="input-group date col-md-12">
						<div class="input-group-addon">
							<i class="fa fa-calendar"></i>
						</div>
					<input type="text" class="form-control pull-right datepicker-facu" id="da5">
					</div>
				</div>
                <div class="col-lg-6">
					<div class="input-group">
						<span class="input-group-addon"><i class="fa fa-dollar"></i></span>
						<input type="text" class="form-control" id="va5">
					</div>
                </div>
              </div>



			  <div class="row hidden-xs">
				<div class="col-lg-6">
					<div class="input-group date col-md-12">
						<div class="input-group-addon">
							<i class="fa fa-calendar"></i>
						</div>
					<input type="text" class="form-control pull-right datepicker-facu" id="da6">
					</div>
				</div>
                <div class="col-lg-6">
					<div class="input-group">
						<span class="input-group-addon"><i class="fa fa-dollar"></i></span>
						<input type="text" class="form-control" id="va6">
					</div>
                </div>
              </div>

            <button  class="btn btn-primary col-lg-6 pull-right" id="addDataset" style="margin-top:10px">Analizar!</button>
            <button  class="btn btn-danger col-lg-3 pull-left" id="reset" style="margin-top:10px">Limpiar</button>

        </div>
        <!-- /.box-body -->



	  </div>
	  </div>
      <!-- /.box -->
	  <div class="col-lg-8">
		<canvas class="col-lg-6 pull-right" id="canvas"></canvas>

	  </div>
	  </div>


	  </div>
	  </div>






	  	        <!-- Default box -->
      <div class="box col-lg-8">
        <div class="box-header with-border">
          <h3 class="box-title">¿Cómo usar esta herramienta?</h3>

          <div class="box-tools pull-right">
            <button type="button" class="btn btn-box-tool" data-widget="collapse" data-toggle="tooltip" title="Collapse">
              <i class="fa fa-minus"></i></button>
            <button type="button" class="btn btn-box-tool" data-widget="remove" data-toggle="tooltip" title="Remove">
              <i class="fa fa-times"></i></button>
          </div>
        </div>
        <div class="box-body">
          <div class="row">
<div class="col-lg-4">
            <img src="img/ejemplo1.png" alt="Ejemplo1" class="media-object" style="width: 300px;height: auto;border-radius: 4px;box-shadow: 0 1px 3px rgba(0,0,0,.15);">
</div>

            <div class="col-lg-8">
          Básicamente este sistema contiene una lista de fechas y cotizaciones del dólar, respecto a su valor en pesos argentinos por los últimos 20 años aproximadamente.
Carga en cada línea tu sueldo y la fecha en la que tenias ese sueldo o la fecha en la que recibiste un aumento (o cambiaste de trabajo) y el nuevo sueldo total.
			<h4>Ejemplo:</h4>
Si tu sueldo era de $10.000 al 24 de Septiembre del 2016 [09/24/2016] y el 1 de Junio de 2017 [06/01/2017] recibiste un aumento, llevando tu sueldo a $11.500, para luego recibir otro aumento en Marzo de 2018 [03/01/2018], llevando tu sueldo a $14.350, deberías completar la información de la siguiente manera:

<h5>Repasando:</h5>
		  <ul>
                <li>Sueldo de $10.000 al 24 de Septiembre del 2016 [09/24/2016]</li>
                <li>Al 1 de Junio de 2017 [06/01/2017] recibiste un aumento, llevando tu sueldo a $11.500</li>
                <li>Otro aumento en Marzo de 2018 [03/01/2018], llevando tu sueldo a $14.350, </li>

              </ul>
</div>


		  </div>
		  </div>
        <!-- /.box-body -->
        <div class="box-footer">

        </div>
        <!-- /.box-footer-->
      </div>
      <!-- /.box -->





	        <!-- Default box -->
      <div class="box col-lg-8">
        <div class="box-header with-border">
          <h3 class="box-title">Comentarios del autor </h3>

          <div class="box-tools pull-right">
            <button type="button" class="btn btn-box-tool" data-widget="collapse" data-toggle="tooltip" title="Collapse">
              <i class="fa fa-minus"></i></button>
            <button type="button" class="btn btn-box-tool" data-widget="remove" data-toggle="tooltip" title="Remove">
              <i class="fa fa-times"></i></button>
          </div>
        </div>
        <div class="box-body">
			<!--h4>Comentarios del autor</h4-->
          Gracias por usar esta herramienta! Espero que te sirva y de tener algún comentario quizá quieras leer primero algunas observaciones:
		  <ul>
                <li>Todo el código está disponible para ver y descargar en GitHub (https://github.com/facu2108/SalaryCalcUSD)</li>

                <li>Esta aplicación se hizo en unas horas para uso interno, tiene errores y no valida la información que ingresas. No te recomiendo usarla si estas esperando encontrar un producto maduro.
</li>
                <li>La fecha esta en formato inglés principalmente porque era más fácil de implementar, mis disculpas. (MM/DD/AAAA - Mes/Día/Año)
</li>
                <li>Para resetear correctamente el gráfico te recomiendo que recargues la página completa</li>
                <li>Se que se mezclan los ejes en pesos de la cotización del dólar con el eje en dólares de la cotización de tu sueldo
</li>
                <li>Nada de lo que escribas en esta aplicación queda guardado, no hay ni una base de datos, todo corre en tu navegador usando JavaScript. Tus datos no están siendo recolectados. </li>
                <li>No soy un programador así que existen infinitas oportunidades de mejora en esta herramienta. Si queres colaborar en mejorarla, sos bienvenido! </li>
                <li>Efectivamente tardé más tiempo en escribir este texto que en hacer el programa que calcúla y grafica... </li>

              </ul>
        </div>
        <!-- /.box-body -->
        <div class="box-footer">

        </div>
        <!-- /.box-footer-->
      </div>
      <!-- /.box -->





    </section>
    <!-- /.content -->
  </div>
  <!-- /.content-wrapper -->

  <footer class="main-footer" style="margin-left:0px">
    <div class="pull-right hidden-xs">
      <b>Version</b> 0.9.0 - Beta
    </div>
    <strong>Copyright &copy; 2018 <a href="http://fmauricio.com">Facundo Mauricio</a> - <a href="https://www.linkedin.com/in/facundomauricio/">LinkedIn</a></strong>. All rights
    reserved.
  </footer>


</div>
<!-- ./wrapper -->

<!-- jQuery 3 -->
<script src="bower_components/jquery/dist/jquery.min.js"></script>
<!-- Bootstrap 3.3.7 -->
<script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<!-- SlimScroll -->
<script src="bower_components/jquery-slimscroll/jquery.slimscroll.min.js"></script>
<!-- FastClick -->
<script src="bower_components/fastclick/lib/fastclick.js"></script>
<!-- bootstrap datepicker -->
<script src="bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
<!-- AdminLTE App -->
<script src="dist/js/adminlte.min.js"></script>

<script>
  $(document).ready(function () {
    $('.sidebar-menu').tree()
  })

$(function () {
      //Date picker
    $('.datepicker-facu').datepicker({
      autoclose: true
    })
})

var timeFormat = 'MM/DD/YYYY HH:mm';

function newDate(days) {
	return moment().add(days, 'd').toDate();
}

function newDateString(days) {
	return moment().add(days, 'd').format(timeFormat);
}

var color = Chart.helpers.color;
var config = {
	type: 'line',
	data: {
		labels: dates_pesos,
		datasets: [{
			label: 'Valor del Dolar',
			backgroundColor: color(window.chartColors.green).alpha(0.5).rgbString(),
			borderColor: window.chartColors.green,
			fill: false,
			data: values_pesos,
		}
		]
	},
	options: {
		title: {
			text: 'Info'
		},
		tooltips: {
			callbacks: {
				label: function(tooltipItem, data) {
					var label = data.datasets[tooltipItem.datasetIndex].label || '';

					if (label) {
						label += ': ';
					}
					label += Math.round(tooltipItem.yLabel * 100) / 100;
					return label;
				}
			}
		},
		scales: {
			xAxes: [{
				type: 'time',
				time: {
					format: timeFormat
				},
				scaleLabel: {
					display: true,
					labelString: 'Date'
				}
			}],
			yAxes: [{
				scaleLabel: {
					display: true,
					labelString: 'value'
				}
			}]
		},
	}
};

window.onload = function() {
	var ctx = document.getElementById('canvas').getContext('2d');
	window.myLine = new Chart(ctx, config);
};

var colorNames = Object.keys(window.chartColors);

document.getElementById('addDataset').addEventListener('click', function() {
	var colorName = colorNames[config.data.datasets.length % colorNames.length];
	var newColor = window.chartColors[colorName];
	var newDataset = {
		label: 'Tu Sueldo en Dolares',
		borderColor: newColor,
		backgroundColor: color(window.chartColors.yellow).alpha(0.5).rgbString(),
		data: [],
	};
		var date_input_1 = new Date(document.getElementById('da1').value);
		var date_input_2 = new Date(document.getElementById('da2').value);
		var date_input_3 = new Date(document.getElementById('da3').value);
		var date_input_4 = new Date(document.getElementById('da4').value);
		var date_input_5 = new Date(document.getElementById('da5').value);
		var date_input_6 = new Date(document.getElementById('da6').value);

	for (var index = 0; index < config.data.labels.length; ++index)
	{
		var date_index = new Date(config.data.labels[index]);
		if (date_index > date_input_6 && date_input_6 !=null && document.getElementById('va6').value != null) { newDataset.data.push(document.getElementById('va6').value / config.data.datasets[0].data[index]) } else
		if (date_index > date_input_5 && date_input_5 !=null && document.getElementById('va5').value != null) { newDataset.data.push(document.getElementById('va5').value / config.data.datasets[0].data[index]) } else
		if (date_index > date_input_4 && date_input_4 !=null && document.getElementById('va4').value != null) { newDataset.data.push(document.getElementById('va4').value / config.data.datasets[0].data[index]) } else
		if (date_index > date_input_3 && date_input_3 !=null && document.getElementById('va3').value != null) { newDataset.data.push(document.getElementById('va3').value / config.data.datasets[0].data[index]) } else
		if (date_index > date_input_2 && date_input_2 !=null && document.getElementById('va2').value != null) { newDataset.data.push(document.getElementById('va2').value / config.data.datasets[0].data[index]) } else
		if (date_index > date_input_1 && date_input_1 !=null && document.getElementById('va1').value != null) { newDataset.data.push(document.getElementById('va1').value / config.data.datasets[0].data[index]) }
	}

	updateConfigAsNewObject(myLine);
	config.data.datasets.push(newDataset);
	window.myLine.update();
});

function updateConfigAsNewObject(chart) {
		var date_input_1 = new Date(document.getElementById('da1').value);
		chart.options = {
		scales: {
			xAxes: [{
				type: 'time',
				time: {
					min:date_input_1
					}
			}]

		},
	};
	chart.update();
}

document.getElementById('reset').addEventListener('click', function() {
  window.location.reload(false);
});

function removeData(chart) {
    chart.data.labels.pop();
    chart.data.datasets.forEach((dataset) => {
        dataset.data.pop();
    });
    chart.update();
}

	</script>

</body>
</html>
